"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[37],{37:function(e,n,t){t.r(n),t.d(n,{default:function(){return b}});var r,a,i=t(861),s=t(439),o=t(757),c=t.n(o),u=t(924),d=t(243),l=t(791),p=t(87),h=t(689),f=t(168),g=t(444),m=g.ZP.input(r||(r=(0,f.Z)(["\n  width: 320px;\n  font-size: 24px;\n  margin: 0 40px;\n  border: thick double orange;\n  padding-left: 20px;\n"]))),x=g.ZP.button(a||(a=(0,f.Z)(["\n  font-size: 24px;\n  padding: 0 10px;\n  background-color: transparent;\n  border: thick double orange;\n  cursor: pointer;\n  transition: transform 250ms linear;\n  outline: none;\n  :hover {\n    transform: scale(1.1);\n  }\n"]))),v=t(184),b=function(){var e=(0,l.useState)([]),n=(0,s.Z)(e,2),t=n[0],r=n[1],a=(0,l.useState)("idle"),o=(0,s.Z)(a,2),f=o[0],g=o[1],b=(0,p.useSearchParams)(),y=(0,s.Z)(b,2),j=y[0],k=y[1],w=(0,h.TH)();function _(){return(_=(0,i.Z)(c().mark((function e(n){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,g("pending"),e.next=4,u.Z.get("https://api.themoviedb.org/3/search/movie?api_key=352708f90836dd2b75b209ae082e91df&language=en-US&page=1&include_adult=false&query=".concat(n));case 4:t=e.sent,r(t.data.results),g("responded"),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0),g("rejected");case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}return(0,l.useEffect)((function(){var e=j.get("query");e&&function(e){_.apply(this,arguments)}(e)}),[j]),(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("form",{onSubmit:function(e){e.preventDefault();var n=e.target.query.value?{query:e.target.query.value}:{};k(n)},children:[(0,v.jsx)(m,{type:"text",name:"query",placeholder:"Search..."}),(0,v.jsx)(x,{type:"submit",children:"Search"})]}),"responded"===f&&(0,v.jsx)("ul",{children:t.map((function(e){return(0,v.jsx)("li",{children:(0,v.jsx)(p.Link,{to:"/movies/".concat(e.id),state:{from:w},children:e.title||e.name})},e.id)}))}),"pending"===f&&(0,v.jsx)(d.p2,{height:"80",width:"80",color:"#f8a100",ariaLabel:"circles-loading",wrapperStyle:{},wrapperClass:"",visible:!0}),"rejected"===f&&(0,v.jsx)("h2",{children:"Sorry we didn't find this page"})]})}}}]);
//# sourceMappingURL=37.73aa5444.chunk.js.map